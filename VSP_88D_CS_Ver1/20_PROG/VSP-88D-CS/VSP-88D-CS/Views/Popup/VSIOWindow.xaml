<Window x:Class="VSP_88D_CS.Views.Popup.VSIOWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:vsmvvm="clr-namespace:VSLibrary.Common.MVVM.Behaviors;assembly=VSLibrary"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:VSControls="clr-namespace:VSLibrary.UIComponent.VSControls;assembly=VSLibrary"
        xmlns:controls="clr-namespace:VSP_88D_CS.Common.Controls"
        mc:Ignorable="d"
        Title="{Binding MainTiile}"
        Height="700"
        Width="840"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        Topmost="True"
        AllowsTransparency="True"
        Background="Transparent">
    <!-- Window Border -->
    <Border BorderBrush="DarkGray"
            BorderThickness="2"
            CornerRadius="10"
            Background="White">
        <!-- Viewbox로 전체 화면 스케일링 적용 -->
        <Viewbox Stretch="Uniform">
            <Grid Width="900"
                  Height="750">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="1*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Header Section -->
                <Border Background="{Binding BackgroundColor}"
                        Height="50"
                        Grid.Row="0"
                        CornerRadius="5"
                        Margin="2">
                    <Grid>
                        <i:Interaction.Behaviors>
                            <vsmvvm:WindowDragBehavior />
                        </i:Interaction.Behaviors>
                        <TextBlock Text="{Binding MainTiile}"
                                   FontSize="18"
                                   Foreground="White"
                                   FontWeight="Bold"
                                   VerticalAlignment="Center"
                                   Margin="10,0">
                            <TextBlock.InputBindings>
                                <MouseBinding Gesture="LeftDoubleClick"
                                              Command="{Binding TextBlockDoubleClickCommand}" />
                            </TextBlock.InputBindings>
                        </TextBlock>
                        <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Margin="0,0,10,0">
                            <!-- 디지털 입출력 버튼 -->
                            <VSControls:VsButton Command="{Binding NavigateCommand}"
                                                 CommandParameter="DigitalIO"
                                                 Width="150"
                                                 Height="40"
                                                 Margin="3"
                                                 Foreground="Black"
                                                 Background="#D9D9D9"
                                                 BackgroundTop="#D9D9D9"
                                                 ShineColor="#D9D9D9"
                                                 ShineColorBottom="#D9D9D9">
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="/Resources/Icons/led_lamp.png"
                                           Width="20"
                                           Height="20"
                                           Margin="0,0,5,0" />
                                    <TextBlock Text="{Binding DigitalText}" />
                                </StackPanel>
                            </VSControls:VsButton>

                            <!-- 아날로그 입출력 버튼 -->
                            <VSControls:VsButton Command="{Binding NavigateCommand}"
                                                 CommandParameter="AnalogIO"
                                                 Width="170"
                                                 Height="40"
                                                 Margin="3"
                                                 Foreground="Black"
                                                 Background="#D9D9D9"
                                                 BackgroundTop="#D9D9D9"
                                                 ShineColor="#D9D9D9"
                                                 ShineColorBottom="#D9D9D9">
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="pack://application:,,,/Resources/Icons/chart.png"
                                           Width="20"
                                           Height="20"
                                           Margin="0,0,5,0" />
                                    <TextBlock Text="{Binding AnalogText}" />
                                </StackPanel>
                            </VSControls:VsButton>

                            <!-- 닫기 버튼 -->
                            <VSControls:VsButton Command="{Binding CloseCommand}"
                                                 Width="110"
                                                 Height="40"
                                                 Margin="3"
                                                 Foreground="Black"
                                                 Background="#D9D9D9"
                                                 BackgroundTop="#D9D9D9"
                                                 ShineColor="#D9D9D9"
                                                 ShineColorBottom="#D9D9D9">
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="/Resources/Icons/p_close.png"
                                           Width="20"
                                           Height="20"
                                           Margin="0,0,5,0" />
                                    <TextBlock Text="{Binding CloseText}" />
                                </StackPanel>
                            </VSControls:VsButton>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ContentControl을 둥근 모서리 Border로 감싸기 -->
                <Border Grid.Row="1"
                        Background="White"
                        CornerRadius="10"
                        BorderBrush="Gray"
                        BorderThickness="1"
                        Margin="2">

                    <ContentControl HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    vsmvvm:RegionBehavior.RegionName="IORegion" />
                </Border>
            </Grid>
        </Viewbox>
    </Border>
</Window>
