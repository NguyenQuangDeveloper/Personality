<Window x:Class="VSP_88D_CS.Views.Report.PopUp.HowToStatistics"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VSP_88D_CS.Views.Report.PopUp"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Title="HowToStatistics"
        Height="680"
        Width="800"
        WindowStartupLocation="CenterScreen"
        SizeToContent="WidthAndHeight"
        MaxWidth="800"
      
        Closing="Window_Closing">
    <Window.Resources>
        <Style x:Key="CenteredCellStyle"
               TargetType="TextBlock">
            <Setter Property="HorizontalAlignment"
                    Value="Center" />
            <Setter Property="VerticalAlignment"
                    Value="Center" />
            <Setter Property="TextAlignment"
                    Value="Center" />
        </Style>
        <Style x:Key="CenteredHeaderStyle"
               TargetType="DataGridColumnHeader">
            <Setter Property="HorizontalContentAlignment"
                    Value="Center" />
            <Setter Property="VerticalContentAlignment"
                    Value="Center" />
            <Setter Property="FontWeight"
                    Value="Bold" />
        </Style>
    </Window.Resources>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Closing">
            <i:InvokeCommandAction Command="{Binding ClosingCommand}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="4.5*"></RowDefinition>
            <RowDefinition Height="5.5*"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">

            <DataGrid AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      CanUserSortColumns="False"
                      ItemsSource="{Binding DataStatisticDefinitions}"
                      IsReadOnly="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Width="auto"
                                        Binding="{Binding DataName}"
                                        ElementStyle="{StaticResource CenteredCellStyle}"
                                        HeaderStyle="{StaticResource CenteredHeaderStyle}">
                        <DataGridTextColumn.Header>
                            <TextBlock Text="{Binding  LanguageResources[DataName], FallbackValue='DATA NAME', RelativeSource={RelativeSource AncestorType=Window}}" />
                        </DataGridTextColumn.Header>
                    </DataGridTextColumn>
                    <DataGridTextColumn Width="*"
                                        Binding="{Binding Definition}"                                     
                                        HeaderStyle="{StaticResource CenteredHeaderStyle}">
                        <DataGridTextColumn.Header>
                            <TextBlock Text="{Binding  LanguageResources[Definition], FallbackValue='DEFINITION', RelativeSource={RelativeSource AncestorType=Window}}" />
                        </DataGridTextColumn.Header>
                    </DataGridTextColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
        <Grid Grid.Row="1" Height="auto">
            <ItemsControl ItemsSource="{Binding DataCalcDefinitions}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderThickness="1"
                                BorderBrush="Black"
                                Margin="2">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <!-- Title -->
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150" />
                                    <!-- Label -->
                                    <ColumnDefinition Width="*" />
                                    <!-- Content -->
                                </Grid.ColumnDefinitions>

                                <!-- Title row: merged across 2 columns -->
                                <TextBlock Grid.Row="0"
                                           Grid.Column="0"
                                           Grid.ColumnSpan="2"
                                           Text="{Binding Title}"
                                           FontWeight="Bold"
                                           TextAlignment="Center"
                                           Padding="5"
                                           Background="#EEE"
                                          />

                                <!-- Content -->
                                <TextBlock Grid.Row="1"
                                           Grid.Column="0"
                                           Text="CONTENT"
                                           FontWeight="Bold"
                                           Padding="3" />
                                <TextBlock Grid.Row="1"
                                           Grid.Column="1"
                                           Text="{Binding DataName}"
                                           Padding="3" />

                                <!-- Formula -->
                                <TextBlock Grid.Row="2"
                                           Grid.Column="0"
                                           Text="FORMULA"
                                           FontWeight="Bold"
                                           Padding="3" />
                                <TextBlock Grid.Row="2"
                                           Grid.Column="1"
                                           Text="{Binding Definition}"
                                           Padding="3" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Grid>
    </Grid>
</Window>
