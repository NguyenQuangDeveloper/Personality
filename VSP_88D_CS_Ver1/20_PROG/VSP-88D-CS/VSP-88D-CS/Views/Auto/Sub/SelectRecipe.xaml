<Window x:Class="VSP_88D_CS.Views.Auto.Sub.SelectRecipe"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VSP_88D_CS.Views.Auto.Sub"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Height="700"
        Width="500"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        Topmost="True"
        AllowsTransparency="True"
        Background="Transparent">
    <Border BorderBrush="#673AB7" 
            BorderThickness="1.5" 
            CornerRadius="10" 
            Background="White" 
            Padding="10">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="0" 
                        Orientation="Horizontal" 
                        Margin="10" 
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Center">
                <TextBlock Text="{Binding LanguageResources[Recipe], FallbackValue='Recipe'}"
                           FontSize="16" 
                           FontWeight="Bold" 
                           VerticalAlignment="Center"
                           Margin="0, 0, 20, 0"/>
                <TextBox Name="RecipeTextBox" 
                         Width="300" 
                         Height="30" 
                         FontSize="14" 
                         Text="{Binding SelectedRecipeName, Mode=TwoWay}"/>
            </StackPanel>
            <Border Grid.Row="1" 
                    BorderBrush="#673AB7" 
                    BorderThickness="1.5" 
                    CornerRadius="5" 
                    Margin="10">
                <DataGrid IsReadOnly="True"
                          AutoGenerateColumns="False" 
                          GridLinesVisibility="None"
                          CanUserAddRows="False"
                          CanUserResizeColumns="False"
                          CanUserResizeRows="False"
                          SelectionMode="Single"
                          RowHeight="40"
                          ItemsSource="{Binding Recipes}" 
                          SelectedItem="{Binding SelectedRecipe, Mode=TwoWay}">
                    <DataGrid.Columns>
                        <DataGridTemplateColumn Width="50">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Source="/Resources/Icons/Next.png" 
                                           HorizontalAlignment="Center" 
                                           VerticalAlignment="Center"
                                           Stretch="Uniform"
                                           Visibility="Collapsed"
                                           x:Name="ItemImage"/>
                                    <DataTemplate.Triggers>
                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=DataGridRow}, Path=IsSelected}" 
                                                     Value="True">
                                            <Setter TargetName="ItemImage" 
                                                    Property="Visibility" 
                                                    Value="Visible"/>
                                        </DataTrigger>
                                    </DataTemplate.Triggers>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTextColumn Binding="{Binding Recipe, FallbackValue='RECIPE TEST'}" 
                                            FontSize="20"
                                            FontWeight="DemiBold"
                                            Width="*">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>
            <StackPanel Grid.Row="2" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Center" 
                        Margin="0,20,0,10">
                <Button Content="{Binding LanguageResources[Select], FallbackValue='Select'}"
                        Width="120" 
                        Height="40" 
                        Background="ForestGreen" 
                        FontWeight="Bold"
                        Command="{Binding SelectRecipeCommand}" 
                        Margin="0,0,20,0"/>
                <Button Content="{Binding LanguageResources[Cancel], FallbackValue='Cancel'}"
                        Width="120" 
                        Height="40" 
                        Background="Red" 
                        FontWeight="Bold"
                        Command="{Binding CancelSelectCommand}" 
                        Margin="20,0,0,0"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
